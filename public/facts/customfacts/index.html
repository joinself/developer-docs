<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta charset="utf-8" />
  <title>Custom facts</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="generator" content="Hugo 0.101.0" />
  <meta name="description" content="Custom facts - Joinself - Platform Documentation " />
  
  
  <meta name="theme-name" content="dot-hugo" />

  
  
  <link
    rel="stylesheet"
    href="https://docs.joinself.com/plugins/bootstrap/bootstrap.min.css"
  />

  
  <link
    rel="stylesheet"
    href="https://docs.joinself.com/plugins/themify-icons/themify-icons.css"
  />

  
  <link
    rel="icon"
    href="https://docs.joinself.com/images/favicon.png"
    type="image/x-icon"
  />

  
  <link
    href="https://fonts.googleapis.com/css?family=Barlow:300,400,700&display=swap"
    rel="stylesheet"
  />

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.9.359/pdf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.js"></script>

  <style>
    :root{
      --primary-color:#0e1c42;
      --body-color:#f9f9f9;
      --text-color:#636363;
      --text-color-dark:#0e1c42;
      --white-color:#ffffff;
      --light-color:#f8f9fa;
      --font-family:Barlow;
    }
  </style>

  
  
  <link href="https://docs.joinself.com/css/style.min.css" rel="stylesheet" media="screen" />

  
  
  <script src="https://docs.joinself.com/plugins/jquery/jquery-1.12.4.js"></script>

  
  <script src="https://docs.joinself.com/plugins/jquery/jquery-ui.js"></script>

  
  <script src="https://docs.joinself.com/plugins/bootstrap/bootstrap.min.js"></script>

  
  <script src="https://docs.joinself.com/plugins/match-height/jquery.matchHeight-min.js"></script>

   
  
  

  
     
  <meta property="og:image" content="https://docs.joinself.com/images/logo.png" />
    
  <meta property="og:image:width" content="57" />
  <meta property="og:image:height" content="35" />
   
  <meta
    property="og:image:type"
    content="image/png"
  />
  
  <meta name="twitter:title" content="Custom facts" />
  <meta
    name="twitter:description"
    content="Joinself - Platform Documentation"
  />
    <meta property="og:title" content="Custom facts" />
<meta property="og:description" content="Joinself - Platform Documentation" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.joinself.com/facts/customfacts/" />

 <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Custom facts"/>
<meta name="twitter:description" content="Joinself - Platform Documentation"/>

</head>


  <body>
    
    
    <header class="sticky-top bg-white">
      <nav class="navbar navbar-expand-md navbar-light">
  <div class="container px-2 px-md-0">
    <a class="navbar-brand px-2" href="/">
      
      
      
      
      <img class="img-fluid" src="https://docs.joinself.com/images/logo.png" alt="Joinself - Platform Documentation">
      
      
    </a>
    <span class='navbar_docs_title'>Docs</span>

    <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation"
      aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse text-center" id="navigation">
      <ul class="navbar-nav ml-auto">
        
        
        <li class="nav-item">
          <a class="nav-link text-dark" href="https://www.joinself.com">Home</a>
        </li>
        
        
        
        <li class="nav-item">
          <a class="nav-link text-dark" href="https://www.joinself.com/contact-us">contact</a>
        </li>
        
        
        
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle text-dark" href="#" role="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            docs
          </a>
          <div class="dropdown-menu">
            
            <a class="dropdown-item" href="https://docs.joinself.com/setup/">Setup</a>
            
            <a class="dropdown-item" href="https://docs.joinself.com/users/">Users</a>
            
            <a class="dropdown-item" href="https://docs.joinself.com/messaging/">Messaging</a>
            
            <a class="dropdown-item" href="https://docs.joinself.com/authentication/">Authentication</a>
            
            <a class="dropdown-item" href="https://docs.joinself.com/facts/">Facts</a>
            
            <a class="dropdown-item" href="https://docs.joinself.com/zero/">Zero-knowledge</a>
            
            <a class="dropdown-item" href="https://docs.joinself.com/notify/">Notify</a>
            
            <a class="dropdown-item" href="https://docs.joinself.com/storageless/">Recurrent requests</a>
            
            <a class="dropdown-item" href="https://docs.joinself.com/documentsign/">Document sign</a>
            
            <a class="dropdown-item" href="https://docs.joinself.com/directconnection/">Direct connection</a>
            
          </div>
        </li>
        
        
      </ul>
      
    </div>
  </div>
</nav>

    </header>
    
     


<section class="single section-sm pb-0">
    <div class="container">
      <div class="row">
        <div class="col-lg-3">
          <div class="sidebar">
            <div class="sidebar-all-docs">
                <a href="/">
                    <i class="ti-arrow-circle-left"></i>
                    ALL DOCS
                </a>
            </div>

            <div class="sidebar-title">
                <i class=""></i>
                Custom facts
            </div>

            <ul class="list-styled">
               
               
                   
               
                   
               
                   
               
                   
                            
   
  <li
    data-nav-id="https://docs.joinself.com/facts/"
    title="Facts"
    class="sidelist
    "
  >
    <a href="https://docs.joinself.com/facts/">
        Facts
    </a>

    
    
     
    <ul>
       
         
                  
   
  <li
    data-nav-id="https://docs.joinself.com/facts/blocking/"
    title="Blocking fact request"
    class="sidelist
    "
  >
    <a href="https://docs.joinself.com/facts/blocking/">
        Blocking fact request
    </a>

    
    
     
  </li>
    
         
       
         
                  
   
  <li
    data-nav-id="https://docs.joinself.com/facts/non-blocking/"
    title="Non-blocking fact request"
    class="sidelist
    "
  >
    <a href="https://docs.joinself.com/facts/non-blocking/">
        Non-blocking fact request
    </a>

    
    
     
  </li>
    
         
       
         
                  
   
  <li
    data-nav-id="https://docs.joinself.com/facts/async/"
    title="Asynchronous fact request"
    class="sidelist
    "
  >
    <a href="https://docs.joinself.com/facts/async/">
        Asynchronous fact request
    </a>

    
    
     
  </li>
    
         
       
         
                  
   
  <li
    data-nav-id="https://docs.joinself.com/facts/modifiers/"
    title="Modifiers for fact requests"
    class="sidelist
    "
  >
    <a href="https://docs.joinself.com/facts/modifiers/">
        Modifiers for fact requests
    </a>

    
    
     
  </li>
    
         
       
         
                  
   
  <li
    data-nav-id="https://docs.joinself.com/facts/subscribe/"
    title="Subscribe to fact response"
    class="sidelist
    "
  >
    <a href="https://docs.joinself.com/facts/subscribe/">
        Subscribe to fact response
    </a>

    
    
     
  </li>
    
         
       
         
                  
   
  <li
    data-nav-id="https://docs.joinself.com/facts/response/"
    title="Fact response"
    class="sidelist
    "
  >
    <a href="https://docs.joinself.com/facts/response/">
        Fact response
    </a>

    
    
     
  </li>
    
         
       
         
                  
   
  <li
    data-nav-id="https://docs.joinself.com/facts/customfacts/"
    title="Custom facts"
    class="sidelist
    active"
  >
    <a href="https://docs.joinself.com/facts/customfacts/">
        Custom facts
    </a>

    
    
     
  </li>
    
         
      
    </ul>
    
  </li>
    
                   
               
                   
               
                   
               
                   
               
                   
               
                   
               
                   
               
                   
               
                   
               
                
            </ul>
          </div>
        </div>
        <div class="col-lg-9">
          <div class="p-lg-5 p-4 bg-white" id="content">
            
                <h2 class="mb-5" id="title">Custom facts</h2>
            

            
            <div class="content"><p>Self Core Facts are useful for general purpose, but the process of adding new core facts is slow and not flexible enough to support app custom facts.</p>
<p>Custom facts will allow you to:</p>
<ul>
<li>Create custom facts.</li>
<li>Store facts on the user&rsquo;s device.</li>
<li>Consume custom facts.</li>
<li>Share custom facts with other apps.</li>
<li>Interact with other apps on the Self ecosystem.</li>
</ul>
<p>All this is basically accomplished by using the user&rsquo;s device as secure storage for critical information.</p>
<h3 id="issuing-facts">Issuing facts</h3>
<h4 id="groups">Groups</h4>
<p>Facts are presented to the user in groups. Groups have <code>name</code> and <code>icon</code> properties.</p>
<table>
<thead>
<tr>
<th>param</th>
<th>description</th>
<th>required</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>The name of the group as it will be displayed to the user.</td>
<td>true</td>
</tr>
<tr>
<td>icon</td>
<td>The icon to be displayed close to the group name</td>
<td>false</td>
</tr>
</tbody>
</table>


<div class="notices note" ><p>Self App supports all material UI icons, you can search all available icons on <a href="https://fonts.google.com/icons?selected=Material+Icons&amp;icon.query=plane">google fonts</a>.</p></div>
<p>This is how we can create a group.</p>


<div class="code-tabs">
  <ul class="nav nav-tabs"></ul>
  <div class="tab-content"><div class="tab-pane" title="Ruby">
  <pre><code>my_group = SelfSDK::Services::Facts::Group.new(
    &quot;Trip to Venice&quot;, 
    &quot;airplanemode_active&quot;
)
</code></pre>
</div>
<div class="tab-pane" title="Go">
  <pre><code>g := fact.FactGroup{
	Name: &quot;Trip to Shangai&quot;,
	Icon: &quot;airplanemode_active&quot;,
}
</code></pre>
</div>
<div class="tab-pane" title="Typescript">
  <pre><code>let group = new Group(&quot;group name&quot;, &quot;plane&quot;)
</code></pre>
</div>
</div>
</div>
<h4 id="facts">Facts</h4>
<p>Facts are composed of a key, a value and a source.</p>
<table>
<thead>
<tr>
<th>param</th>
<th>description</th>
<th>required</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>is the id for the fact, it will allow other apps to request your facts by id.</td>
<td>true</td>
</tr>
<tr>
<td>value</td>
<td>It&rsquo;s stored as a string by default</td>
<td>true</td>
</tr>
<tr>
<td>source</td>
<td>it groups facts from the same source, it allows other apps to use it as filters.</td>
<td>true</td>
</tr>
<tr>
<td>group</td>
<td>if group is not provided facts will end under on the <code>ungrouped</code> section on the user&rsquo;s device</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>it defines how the fact has to be processed by other clients, it defaults to <code>string</code>, but can also be set as <code>password</code> or <code>delegation_certificate</code></td>
<td>false</td>
</tr>
</tbody>
</table>
<ul>
<li></li>
</ul>


<div class="code-tabs">
  <ul class="nav nav-tabs"></ul>
  <div class="tab-content"><div class="tab-pane" title="Ruby">
  <pre><code>my_fact = SelfSDK::Services::Facts::Fact.new(
    &quot;confirmation_code&quot;,
    &quot;CD128763&quot;,
    &quot;source12&quot;,
    group: my_group)
</code></pre>
</div>
<div class="tab-pane" title="Go">
  <pre><code>f := fact.FactToIssue{
		Key:    &quot;BCN-SIN-cc&quot;,
		Value:  &quot;CD128763&quot;,
		Source: source,
		Group:  &amp;g,
	}
</code></pre>
</div>
<div class="tab-pane" title="Typescript">
  <pre><code>let fact = new FactToIssue(&quot;foo&quot;, &quot;bar&quot;, source, {
  group: group
})
</code></pre>
</div>
</div>
</div>
<h4 id="issuing-facts-1">Issuing facts</h4>
<p>Once you have your fact defined, it&rsquo;s time to send it to your user&rsquo;s device. You can do this by calling <code>issue</code> method on the facts service.</p>
<table>
<thead>
<tr>
<th>param</th>
<th>description</th>
<th>required</th>
</tr>
</thead>
<tbody>
<tr>
<td>user</td>
<td>the user you&rsquo;re signing and sending facts to</td>
<td>true</td>
</tr>
<tr>
<td>facts</td>
<td>an array with the facts you want to issue</td>
<td>true</td>
</tr>
<tr>
<td>viewers</td>
<td>an array of app identifiers related to apps apps that can consume this facts</td>
<td>false</td>
</tr>
</tbody>
</table>


<div class="code-tabs">
  <ul class="nav nav-tabs"></ul>
  <div class="tab-content"><div class="tab-pane" title="Ruby">
  <pre><code>@app.facts.issue(user, 
                 my_fact], 
                 viewers: [appID1, appID2])
</code></pre>
</div>
<div class="tab-pane" title="Go">
  <pre><code>client.FactService().Issue(selfid, []fact.FactToIssue{f}, []string{})
</code></pre>
</div>
<div class="tab-pane" title="Typescript">
  <pre><code>await sdk.facts().issue(selfID, [fact])
</code></pre>
</div>
</div>
</div>
<h4 id="retrieving-facts">Retrieving facts</h4>
<p>Retrieving facts is pretty much the same as we do for accessing core facts, the only difference is we must specify what issuers are we going to be accepting on our request, let&rsquo;s see an example.</p>


<div class="code-tabs">
  <ul class="nav nav-tabs"></ul>
  <div class="tab-content"><div class="tab-pane" title="Ruby">
  <pre><code>myAppID = ENV[&quot;SELF_APP_ID&quot;]
@app.facts.request(user, 
                   [{ 
                       fact: my_fact.key, 
                       issuers: [myAppID] 
                    }]) do |res|
    if res.status == &quot;rejected&quot;
        puts 'Information request rejected'
        exit!
    end
    k = my_fact.key.to_sym
    a = res.attestation_values_for(k)
    puts &quot;Your stored fact is #{a.first}!&quot;
end
</code></pre>
</div>
<div class="tab-pane" title="Go">
  <pre><code>resp, err := client.FactService().Request(&amp;fact.FactRequest{
	SelfID:      selfid,
	Description: &quot;We need access to your flight confirmation codes to reschedule your flights&quot;,
	Facts: []fact.Fact{
		{
			Fact:    f[0].Key,
			Sources: []string{source},
			Issuers: []string{appID},
		},
	},
	Expiry: time.Minute * 5,
})
</code></pre>
</div>
<div class="tab-pane" title="Typescript">
  <pre><code>let res = await sdk.facts().request(selfID, [{ fact: fact.key, issuers: [ appID ] }])
</code></pre>
</div>
</div>
</div>
<h4 id="scope-and-facts">Scope and facts</h4>
<p>Custom facts scope is configurable by the developer by using <code>viewers</code> and <code>issuers</code> parameters to <code>facts.issue</code> and <code>facts.request</code>. This makes it possible to create private, protected and public custom facts.</p>
<h5 id="private">Private</h5>
<p>By specifying yourself as the only <code>viewers</code> on a facts.issue you will be creating facts you&rsquo;re the only one able to consume.</p>
<h5 id="protected">Protected</h5>
<p>Specifying multiple app ids as <code>viewers</code> you&rsquo;ll make those facts available only to a subset of apps.</p>
<h5 id="public">Public</h5>
<p>When viewers parameter is not provided, issued facts become public.</p>
</div>
            

            <nav class="pagination mt-3">
              
                        
                       
                                    
                           
                           
                           
                
                                        
                           
                
                                        
                           
                           
                           
                           
                           
                           
                
                                  
                       
                           
                           
                           
                           
                           
                            
                
                    
                                    
                           
                           
                           
                
                           
                                        
                           
                           
                           
                           
                
                           
                           
                           
                           
                                        
                           
                           
                
                  
              <a
                class="nav nav-prev"
                href="https://docs.joinself.com/facts/response/"
                aria-label="Previous page"
                ><i class="ti-arrow-left mr-2"></i>
                <span class="d-none d-md-block">Fact response</span></a
              >
               
              <a
                class="nav nav-next"
                href="https://docs.joinself.com/messaging/"
                aria-label="Previous page"
              >
                <span class="d-none d-md-block">Messaging</span
                ><i class="ti-arrow-right ml-2"></i
              ></a>
              
            </nav>
          </div>
        </div>
      </div>
    </div>
  </section>
  

  
  
  


    
<footer class="section pb-4">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-8 text-md-left text-center">
          <p class="mb-md-0 mb-4">© Self Group Ltd. 2022</p>
        </div>
        <div class="col-md-4 text-md-right text-center">
          <ul class="list-inline">
            
            <li class="list-inline-item">
              <a
                class="text-color d-inline-block p-2"
                href="https://twitter.com/futureoftrust"
                aria-label="Twitter"
                ><i class="ti-twitter-alt"></i
              ></a>
            </li>
            
            <li class="list-inline-item">
              <a
                class="text-color d-inline-block p-2"
                href="https://github.com/joinself/"
                aria-label="Github"
                ><i class="ti-github"></i
              ></a>
            </li>
            
            <li class="list-inline-item">
              <a
                class="text-color d-inline-block p-2"
                href="https://www.linkedin.com/company/joinself/"
                aria-label="Linkedin"
                ><i class="ti-linkedin"></i
              ></a>
            </li>
            
          </ul>
        </div>
      </div>
    </div>
  </footer>
  
  <style>
       .form-control {
            border-radius: 10px !important;
        }
        .banner {
            background-color: #0e1c42 !important;
        }
        .overlay::before {
            opacity: 0 !important;
        }
        .bg-cover {
            background-size: contain;
            background-position: right;
        }

  </style>

  
  
  <script src="https://docs.joinself.com/js/script.min.js"></script>
  

  <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
  <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
  <script>

    function setCookie(key, value, expiry) {
        var expires = new Date();
        expires.setTime(expires.getTime() + (expiry * 24 * 60 * 60 * 1000));
        document.cookie = key + '=' + value + ';path=/' + ';expires=' + expires.toUTCString();
    }

    function getCookie(key) {
        var keyValue = document.cookie.match('(^|;) ?' + key + '=([^;]*)(;|$)');
        return keyValue ? keyValue[2] : null;
    }


    function defaultPageTabs(tabIndex) {
        let tabs = $('.code-tabs')
        for(var i = 0; i<tabs.length; i++) {
            $(tabs[i]).find('.active').removeClass('active');
            tab = $(tabs[i]).find('.tab-pane').eq(tabIndex);
            $(tab).addClass('active');
            tabHeader = $(tabs[i]).find('.nav-item').eq(tabIndex);
            $(tabHeader).addClass('active');
        }
    }

    $('document').ready(function(){
        hljs.highlightAll();
        mermaid.initialize({ startOnLoad: true });


        $('.nav-tabs a').click(function (e) {
            var tab = $(this).parent();
            var tabIndex = tab.index();
            defaultPageTabs(tabIndex);
            setCookie('tabIndex', tabIndex, 200);
        });

        tabIndex = getCookie('tabIndex');
        if (tabIndex != null) {
            defaultPageTabs(tabIndex);
        }

    });
  </script>

<link rel="stylesheet" href="/css/styles.css">

  </body>
</html>