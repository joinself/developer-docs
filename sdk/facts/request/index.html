<!doctype html><html lang=en-us><head><meta charset=utf-8><title>Request</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.113.0"><meta name=description content="Request - Joinself - Platform Documentation "><meta name=theme-name content="dot-hugo"><link rel=stylesheet href=https://docs.joinself.com/plugins/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://docs.joinself.com/plugins/themify-icons/themify-icons.css><link rel=icon href=https://docs.joinself.com/images/favicon.png type=image/x-icon><link href="https://fonts.googleapis.com/css?family=Barlow:300,400,700&display=swap" rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.9.359/pdf.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.js></script><style>:root{--primary-color:#0e1c42;--body-color:#f9f9f9;--text-color:#636363;--text-color-dark:#0e1c42;--white-color:#ffffff;--light-color:#f8f9fa;--font-family:Barlow}</style><link href=https://docs.joinself.com/css/style.min.css rel=stylesheet media=screen><script src=https://docs.joinself.com/plugins/jquery/jquery-1.12.4.js></script>
<script src=https://docs.joinself.com/plugins/jquery/jquery-ui.js></script>
<script src=https://docs.joinself.com/plugins/bootstrap/bootstrap.min.js></script>
<script src=https://docs.joinself.com/plugins/match-height/jquery.matchHeight-min.js></script><meta property="og:image" content="https://docs.joinself.com/images/logo.png"><meta property="og:image:width" content="57"><meta property="og:image:height" content="35"><meta property="og:image:type" content="image/png"><meta name=twitter:title content="Request"><meta name=twitter:description content="Joinself - Platform Documentation"><meta property="og:title" content="Request"><meta property="og:description" content="Joinself - Platform Documentation"><meta property="og:type" content="website"><meta property="og:url" content="https://docs.joinself.com/sdk/facts/request/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Request"><meta name=twitter:description content="Joinself - Platform Documentation"></head><body><header class="shadow-bottom sticky-top bg-white"><nav class="navbar navbar-expand-md navbar-light"><div class="container px-2 px-md-0"><div class=navbar-brand-container><a class="navbar-brand px-2" href=/><img class=img-fluid src=https://docs.joinself.com/images/logo.png alt="Joinself - Platform Documentation">
<i class=navbar_docs_title>Docs</i></a></div><button class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#navigation aria-controls=navigation aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse text-center" id=navigation><ul class="navbar-nav ml-auto"><li class=nav-item><a class="nav-link text-dark" href=https://www.joinself.com>Home</a></li><li class=nav-item><a class="nav-link text-dark" href=https://www.joinself.com/contact-us>contact</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle text-dark" href=# role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>docs</a><div class=dropdown-menu><a class=dropdown-item href=https://docs.joinself.com/quickstart/>Quick Start</a>
<a class=dropdown-item href=https://docs.joinself.com/sdk/>SDK Reference</a><div class=separator>Products</div><a class=dropdown-item href=https://docs.joinself.com/sdk/authentication/>Authentication</a>
<a class=dropdown-item href=https://docs.joinself.com/sdk/messaging/>Messaging</a>
<a class=dropdown-item href=https://docs.joinself.com/sdk/facts/>Facts</a>
<a class=dropdown-item href=https://docs.joinself.com/sdk/zero/>Zero-knowledge</a>
<a class=dropdown-item href=https://docs.joinself.com/sdk/documentsign/>Document sign</a>
<a class=dropdown-item href=https://docs.joinself.com/sdk/directconnection/>Direct connection</a>
<a class=dropdown-item href=https://docs.joinself.com/sdk/voice/>Voice calls</a></div></li></ul><div class=btn-get-keys><a href=https://developer.sandbox.joinself.com target=_blank class=btn>GET API Keys</a></div></div></div></nav></header><section class="single section-sm pb-0"><div class=container><div class=row><div class=col-lg-3><div class=sidebar><div class=sidebar-all-docs><a href=/><i class=ti-arrow-circle-left></i>
ALL DOCS</a></div><div class=sidebar-title><i></i>
Request</div><ul class=list-styled><li data-nav-id=https://docs.joinself.com/sdk/ title="SDK Reference" class=sidelist><a href=https://docs.joinself.com/sdk/>SDK Reference</a><ul><li data-nav-id=https://docs.joinself.com/sdk/setup/ title="Client Setup" class=sidelist><a href=https://docs.joinself.com/sdk/setup/>Client Setup</a></li><li data-nav-id=https://docs.joinself.com/sdk/users/ title=Connections class=sidelist><a href=https://docs.joinself.com/sdk/users/>Connections</a></li><li data-nav-id=https://docs.joinself.com/sdk/authentication/ title=Authentication class=sidelist><a href=https://docs.joinself.com/sdk/authentication/>Authentication</a></li><li data-nav-id=https://docs.joinself.com/sdk/facts/ title=Facts class=sidelist><a href=https://docs.joinself.com/sdk/facts/>Facts</a><ul><li data-nav-id=https://docs.joinself.com/sdk/facts/request/ title=Request class="sidelist
active"><a href=https://docs.joinself.com/sdk/facts/request/>Request</a><nav id=TableOfContents><ul><li><ul><li><a href=#blocking>Blocking</a></li><li><a href=#non-blocking>Non-blocking</a></li><li><a href=#asynchronous>Asynchronous</a></li></ul></li></ul></nav></li><li data-nav-id=https://docs.joinself.com/sdk/facts/modifiers/ title=Modifiers class=sidelist><a href=https://docs.joinself.com/sdk/facts/modifiers/>Modifiers</a></li><li data-nav-id=https://docs.joinself.com/sdk/facts/response/ title=Response class=sidelist><a href=https://docs.joinself.com/sdk/facts/response/>Response</a></li><li data-nav-id=https://docs.joinself.com/sdk/facts/custom/ title=Custom class=sidelist><a href=https://docs.joinself.com/sdk/facts/custom/>Custom</a></li><li data-nav-id=https://docs.joinself.com/sdk/facts/recurrent/ title="Recurrent requests" class=sidelist><a href=https://docs.joinself.com/sdk/facts/recurrent/>Recurrent requests</a></li><li data-nav-id=https://docs.joinself.com/sdk/facts/combined/ title=Combined class=sidelist><a href=https://docs.joinself.com/sdk/facts/combined/>Combined</a></li><li data-nav-id=https://docs.joinself.com/sdk/facts/qr/ title=QR class=sidelist><a href=https://docs.joinself.com/sdk/facts/qr/>QR</a></li><li data-nav-id=https://docs.joinself.com/sdk/facts/dynamic_link/ title="Dynamic link" class=sidelist><a href=https://docs.joinself.com/sdk/facts/dynamic_link/>Dynamic link</a></li></ul></li><li data-nav-id=https://docs.joinself.com/sdk/messaging/ title=Messaging class=sidelist><a href=https://docs.joinself.com/sdk/messaging/>Messaging</a></li><li data-nav-id=https://docs.joinself.com/sdk/notify/ title=Notify class=sidelist><a href=https://docs.joinself.com/sdk/notify/>Notify</a></li><li data-nav-id=https://docs.joinself.com/sdk/zero/ title=Zero-knowledge class=sidelist><a href=https://docs.joinself.com/sdk/zero/>Zero-knowledge</a></li><li data-nav-id=https://docs.joinself.com/sdk/documentsign/ title="Document sign" class=sidelist><a href=https://docs.joinself.com/sdk/documentsign/>Document sign</a></li><li data-nav-id=https://docs.joinself.com/sdk/directconnection/ title="App direct connection" class=sidelist><a href=https://docs.joinself.com/sdk/directconnection/>App direct connection</a></li><li data-nav-id=https://docs.joinself.com/sdk/voice/ title="Voice Calls" class=sidelist><a href=https://docs.joinself.com/sdk/voice/>Voice Calls</a></li></ul></li></ul></div></div><div class=col-lg-9><div class="p-lg-5 p-4 bg-white" id=content><h2 class="mb-5 summary" id=title>Fact request<div class=subtitle>Request users verified information</div></h2><div class=content><h3 id=blocking>Blocking</h3><p>Same as with authentication there are situations where you want to block your execution line until the user responds to your <strong>fact</strong> request. For example, you may want to block a user&rsquo;s access to a certain space of your site until you verify its passport number.</p><p>This function blocks the execution line until the user responds with its verified email address.</p><div class=code-tabs><ul class="nav nav-tabs"></ul><div class=tab-content><div class=tab-pane title=Ruby><pre><code>    def get_email(selfid)
        res = @client.facts.request(selfid, [:email_address])
        return &quot;&quot; unless res.accepted?
        res.attestation_values_for(:email_address).first
        // Refer to Receiving fact response - Deal with request for more info
    rescue =&gt; e // An exception will be raised in case of a timeout or internal error
        return &quot;&quot;
    end
</code></pre></div><div class=tab-pane title=Go><pre><code>resp, err := client.FactService().Request(&amp;fact.FactRequest{
    SelfID:      selfID,
    Description: &quot;info&quot;,
    Facts:       []fact.Fact{{ Fact: fact.FactEmail }},
    Expiry:     time.Minute * 5,
})
if err != nil {
    return &quot;&quot;, err
}
aa, err := resp.AttestationValuesFor(fact.FactEmail)
if err != nil {
    return &quot;&quot;, err
}
println(aa[0])
</code></pre></div><div class=tab-pane title=Typescript><pre><code>try {
    let res = await sdk.facts().request(selfID, [{ fact: 'email_address' }])
    if (!res) {
        sdk.logger.warn(`fact request has timed out`)
    } else if (res.status === 'accepted') {
        let pn = res.attestationValuesFor('email_address')[0]
        sdk.logger.info(`${selfID} email address is &quot;${pn}&quot;`)
    } else {
        sdk.logger.warn(`${selfID} has rejected your authentication request`)
    }
} catch (error) {
    sdk.logger.error(error.toString())
}
</code></pre></div></div></div><h3 id=non-blocking>Non-blocking</h3><p>The sdk also allows us to send a fact request without blocking the execution line.</p><p>Same registration example we used for authentication works here, if you want to get a user <strong>verified fact</strong> but you don’t want the user to be blocked on the registration form, you can use this approach to continue with the execution line, and process the response as soon as it gets back.</p><p>Let’s see how we can request a verified email address with a non-blocking request.</p><div class=code-tabs><ul class="nav nav-tabs"></ul><div class=tab-content><div class=tab-pane title=Ruby><pre><code>    def get_email_in_background(selfid)
        @client.facts.request(user, [:email_address]) do |res|
            return &quot;&quot; unless res.accepted?
            return res.attestation_values_for(:email_address).first
            # Refer to Receiving fact response - Deal with request for more info
        end
        rescue =&gt; e # An exception will be raised in case of a timeout or internal error
        return &quot;&quot;
    end
</code></pre></div><div class=tab-pane title=Go><pre><code>// Use goroutines to manage this scenario
</code></pre></div><div class=tab-pane title=Typescript><pre><code>// Use async() = {} to manage this scenario
</code></pre></div></div></div><h3 id=asynchronous>Asynchronous</h3><p>The asynchronous approach can be used in scenarios like the previous one, however it has a subtle difference, you have a single observer for all information requests, which can be useful in some situations as you can have all the logic centralized on a single point.</p><div class=code-tabs><ul class="nav nav-tabs"></ul><div class=tab-content><div class=tab-pane title=Ruby><pre><code>cid = @client.facts.request(selfid, [SelfSDK::FACT_EMAIL], async: true)
</code></pre></div><div class=tab-pane title=Go><pre><code>resp, err := client.FactService().RequestAsync(&amp;fact.FactRequestAsync{
    SelfID:          selfID,
    Description: &quot;info&quot;,
    Facts:       []fact.Fact{{ Fact: fact.FactEmail }},
    Expiry:      time.Minute * 5,
    CID:         &quot;conversation_id&quot;,
})
</code></pre></div><div class=tab-pane title=Typescript><pre><code>let res = await sdk.facts().request(selfID, [{ fact: 'email_address' }], { async: true })
</code></pre></div></div></div></div><nav class="pagination mt-3"><a class="nav nav-prev" href=https://docs.joinself.com/sdk/facts/ aria-label="Previous page"><i class="ti-arrow-left mr-2"></i>
<span class="d-none d-md-block">Facts</span></a>
<a class="nav nav-next" href=https://docs.joinself.com/sdk/facts/modifiers/ aria-label="Previous page"><span class="d-none d-md-block">Modifiers</span><i class="ti-arrow-right ml-2"></i></a></nav></div></div></div></div></section><footer class="section pb-4"><div class=container><div class="row align-items-center"><div class="col-md-8 text-md-left text-center"><p class="mb-md-0 mb-4"></p></div><div class="col-md-4 text-md-right text-center"><ul class=list-inline><li class=list-inline-item><a class="text-color d-inline-block p-2" href=https://twitter.com/futureoftrust aria-label=Twitter><i class=ti-twitter-alt></i></a></li><li class=list-inline-item><a class="text-color d-inline-block p-2" href=https://github.com/joinself/ aria-label=Github><i class=ti-github></i></a></li><li class=list-inline-item><a class="text-color d-inline-block p-2" href=https://www.linkedin.com/company/joinself/ aria-label=Linkedin><i class=ti-linkedin></i></a></li></ul></div></div></div></footer><style>.form-control{border-radius:10px!important}.banner{background-color:#0e1c42!important}.overlay::before{opacity:0!important}.bg-cover{background-size:contain;background-position:100%}</style><script src=https://docs.joinself.com/js/script.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js></script>
<link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js></script>
<script>function setCookie(e,t,n){var s=new Date;s.setTime(s.getTime()+n*24*60*60*1e3),document.cookie=e+"="+t+";path=/;expires="+s.toUTCString()}function getCookie(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null}function defaultPageTabs(e){let n=$(".code-tabs");for(var t=0;t<n.length;t++)$(n[t]).find(".active").removeClass("active"),tab=$(n[t]).find(".tab-pane").eq(e),$(tab).addClass("active"),tabHeader=$(n[t]).find(".nav-item").eq(e),$(tabHeader).addClass("active")}$("document").ready(function(){hljs.highlightAll(),mermaid.initialize({startOnLoad:!0}),$(".nav-tabs a").click(function(){var n=$(this).parent(),t=n.index();defaultPageTabs(t),setCookie("tabIndex",t,200)}),tabIndex=getCookie("tabIndex"),tabIndex!=null&&defaultPageTabs(tabIndex)})</script><link rel=stylesheet href=/css/styles.css></body></html>